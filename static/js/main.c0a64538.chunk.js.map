{"version":3,"sources":["card.js","score.js","reset.js","listcard.js","index.js"],"names":["Card","props","className","src","carte","image","alt","onClick","changeliste","nom","Score","children","Reset","e","newgame","ListCard","useState","listeDisplay","setlisteDisplay","carteSelected","setcarteselected","score","setscore","gameover","setgameover","listeCard","setlisteCard","useEffect","length","maliste","fetch","then","response","json","data","results","forEach","element","push","id","initliste","changeScore","newscore","controlChange","card","findIndex","cardId","ncartes","hasCard","alert","list","newliste","hazard","parseInt","Math","random","map","uniqid","preventDefault","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2NAgBeA,EAfF,SAACC,GACZ,OACE,mCACE,sBAAKC,UAAWD,EAAMC,UAAtB,UACE,qBACEC,IAAKF,EAAMG,MAAMC,MACjBC,IAAI,QACJC,QAAS,kBAAMN,EAAMO,YAAYP,EAAMG,QACvCF,UAAU,2DAEZ,mBAAGA,UAAU,kBAAb,SAAgCD,EAAMG,MAAMK,YCFrCC,EATD,SAACT,GACb,OACE,qBAAKC,UAAU,MAAf,SACE,qBAAKA,UAAWD,EAAMC,UAAtB,SACE,0CAAaD,EAAMU,iBCMZC,EAVD,SAACX,GACb,OACE,qBAAKC,UAAU,mBAAf,SACE,wBAAQK,QAAS,SAACM,GAAD,OAAOZ,EAAMa,QAAQD,IAAIX,UAAU,kBAApD,SACGD,EAAMU,cC8GAI,EA5GE,SAACd,GAAW,IAAD,EACce,mBAAS,IADvB,mBACnBC,EADmB,KACLC,EADK,OAEgBF,mBAAS,IAFzB,mBAEnBG,EAFmB,KAEJC,EAFI,OAGAJ,mBAAS,GAHT,mBAGnBK,EAHmB,KAGZC,EAHY,OAIMN,oBAAS,GAJf,mBAInBO,EAJmB,KAITC,EAJS,OAKQR,mBAAS,IALjB,mBAKnBS,EALmB,KAKRC,EALQ,KAO1BC,qBAAU,WACR,GAAyB,IAArBF,EAAUG,OAAc,CAC1B,IAAMC,EAAU,GAChBC,MACE,uHAECC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACC,GAAD,OAAcA,EAASE,KAAKC,WACjCJ,MAAK,SAACC,GACLA,EAASI,SAAQ,SAACC,GAChBR,EAAQS,KAAK,CACXC,GAAIF,EAAO,GACX5B,IAAK4B,EAAO,MACZhC,MAAOgC,EAAO,UAAP,KAA+B,6BAG1CX,EAAaG,GACbW,EAAUX,SAGf,CAACJ,IAEJ,IAAMgB,EAAc,SAACC,GACnBpB,EAASoB,IAcLC,EAAgB,SAACC,IAXP,SAACA,GAEf,IAAe,IADDzB,EAAc0B,WAAU,SAACC,GAAD,OAAYA,IAAWF,EAAKL,MAChD,CAChB,IAAMQ,EAAU5B,EAChB4B,EAAQT,KAAKM,EAAKL,IAClBnB,EAAiB2B,GACjBvB,GAAY,QAEZA,GAAY,GAIdwB,CAAQJ,GACRrB,EAAW0B,MAAM,aAAezC,KAG5BA,EAAc,WAClBiC,EAAYpB,EAAQ,GAEpBmB,EAAUf,IAGNe,EAAY,SAACU,GAEjB,IADA,IAAMC,EAAW,GADS,aAGxB,IAAMC,EAASC,SAAyB,GAAhBC,KAAKC,WAGd,IADDJ,EAASN,WAAU,SAACD,GAAD,OAAUA,EAAKL,KAAOW,EAAKE,GAAQb,OAElEY,EAASb,KAAKY,EAAKE,KALI,IAApBD,EAASvB,QAAe,IAQ/BV,EAAgBiC,IAalB,OACE,mCACE,sBAAKjD,UAAU,kBAAf,UACE,cAAC,EAAD,CAAOA,UAAU,+BAAjB,SAAiDmB,IACjD,sBAAKnB,UAAU,8BAAf,UACwB,IAArBuB,EAAUG,OACT,8BACE,oBAAI1B,UAAU,6BAAd,6BAECqB,EAUH,qBAAKrB,UAAU,mBAAf,SACE,6CAVFe,EAAauC,KAAI,SAACZ,GAAD,OACf,cAAC,EAAD,CACE1C,UAAU,kCACVM,YAAamC,EAEbvC,MAAOwC,GADFa,UASX,cAAC,EAAD,CAAO3C,QA9BD,SAACD,GACbA,EAAE6C,iBACFjB,EAAY,GAJZrB,EAAiB,IAMjBI,GAAY,IA0BN,sCClGVmC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.c0a64538.chunk.js","sourcesContent":["import React from \"react\";\r\nconst Card = (props) => {\r\n  return (\r\n    <>\r\n      <div className={props.className}>\r\n        <img\r\n          src={props.carte.image}\r\n          alt=\"perso\"\r\n          onClick={() => props.changeliste(props.carte)}\r\n          className=\"img-card img-fluid bg-image hover-zoom cursor-pointer \"\r\n        />\r\n        <p className=\"title-card pt-1\">{props.carte.nom}</p>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Card;\r\n","const Score = (props) => {\r\n  return (\r\n    <div className=\"row\">\r\n      <div className={props.className}>\r\n        <h5>Score : {props.children}</h5>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Score;\r\n","const Reset = (props) => {\r\n  return (\r\n    <div className=\"text-center mt-1\">\r\n      <button onClick={(e) => props.newgame(e)} className=\"btn btn-primary\">\r\n        {props.children}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reset;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport uniqid from \"uniqid\";\r\nimport Card from \"./card\";\r\nimport Score from \"./score\";\r\nimport Reset from \"./reset\";\r\n\r\nconst ListCard = (props) => {\r\n  const [listeDisplay, setlisteDisplay] = useState([]);\r\n  const [carteSelected, setcarteselected] = useState([]);\r\n  const [score, setscore] = useState(0);\r\n  const [gameover, setgameover] = useState(false);\r\n  const [listeCard, setlisteCard] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (listeCard.length === 0) {\r\n      const maliste = [];\r\n      fetch(\r\n        \"https://gateway.marvel.com:443/v1/public/characters/1009165/comics?limit=29&apikey=2f336d6ed425b8bb4bc1b4740acd4648\"\r\n      )\r\n        .then((response) => response.json())\r\n        .then((response) => response.data.results)\r\n        .then((response) => {\r\n          response.forEach((element) => {\r\n            maliste.push({\r\n              id: element[\"id\"],\r\n              nom: element[\"title\"],\r\n              image: element[\"thumbnail\"][\"path\"] + \"/portrait_uncanny.jpg\",\r\n            });\r\n          });\r\n          setlisteCard(maliste);\r\n          initliste(maliste);\r\n        });\r\n    }\r\n  }, [listeCard]);\r\n\r\n  const changeScore = (newscore) => {\r\n    setscore(newscore);\r\n  };\r\n\r\n  const hasCard = (card) => {\r\n    const index = carteSelected.findIndex((cardId) => cardId === card.id);\r\n    if (index === -1) {\r\n      const ncartes = carteSelected;\r\n      ncartes.push(card.id);\r\n      setcarteselected(ncartes);\r\n      setgameover(false);\r\n    } else {\r\n      setgameover(true);\r\n    }\r\n  };\r\n  const controlChange = (card) => {\r\n    hasCard(card);\r\n    gameover ? alert(\"Game Over\") : changeliste();\r\n  };\r\n\r\n  const changeliste = () => {\r\n    changeScore(score + 1);\r\n\r\n    initliste(listeCard);\r\n  };\r\n\r\n  const initliste = (list) => {\r\n    const newliste = [];\r\n    while (newliste.length !== 8) {\r\n      const hazard = parseInt(Math.random() * 24);\r\n\r\n      const index = newliste.findIndex((card) => card.id === list[hazard].id);\r\n      if (index === -1) {\r\n        newliste.push(list[hazard]);\r\n      }\r\n    }\r\n    setlisteDisplay(newliste);\r\n  };\r\n\r\n  const resetCarteSelected = () => {\r\n    setcarteselected([]);\r\n  };\r\n  const reset = (e) => {\r\n    e.preventDefault();\r\n    changeScore(0);\r\n    resetCarteSelected();\r\n    setgameover(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container h-100\">\r\n        <Score className=\"col-12 text-center mb-3 mb-1\">{score}</Score>\r\n        <div className=\"row justify-content-center \">\r\n          {listeCard.length === 0 ? (\r\n            <div>\r\n              <h1 className=\"text-center fw-normal my-5\">Chargement...</h1>\r\n            </div>\r\n          ) : !gameover ? (\r\n            listeDisplay.map((card) => (\r\n              <Card\r\n                className=\"col-6 col-md-3 text-center py-1\"\r\n                changeliste={controlChange}\r\n                key={uniqid()}\r\n                carte={card}\r\n              />\r\n            ))\r\n          ) : (\r\n            <div className=\"text-center my-5\">\r\n              <h1>Game Over</h1>\r\n            </div>\r\n          )}\r\n          <Reset newgame={reset}>Nouvelle Partie</Reset>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ListCard;\r\n","import \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nimport \"bootstrap/dist/js/bootstrap.bundle.min\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\n\r\nimport Listcard from \"./listcard\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Listcard />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}